

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Fedora, CentOS, or Red Hat &mdash; Citus 5.2.1 documentation</title>
  

  
  
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  

  
    <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  

  
    <link rel="top" title="Citus 5.2.1 documentation" href="../index.html"/>
        <link rel="up" title="Single-Machine Cluster" href="development.html"/>
        <link rel="next" title="Ubuntu or Debian" href="single_machine_deb.html"/>
        <link rel="prev" title="OS X" href="single_machine_osx.html"/> 

  
  <script src="../_static/js/modernizr.min.js"></script>
  <script>
   window.intercomSettings = {
     app_id: "jfost7ih",
   };
  </script>
  <script>(function(){var w=window;var ic=w.Intercom;if(typeof ic==="function"){ic('reattach_activator');ic('update',intercomSettings);}else{var d=document;var i=function(){i.c(arguments)};i.q=[];i.c=function(args){i.q.push(args)};w.Intercom=i;function l(){var s=d.createElement('script');s.type='text/javascript';s.async=true;s.src='https://widget.intercom.io/widget/jfost7ih';var x=d.getElementsByTagName('script')[0];x.parentNode.insertBefore(s,x);}if(w.attachEvent){w.attachEvent('onload',l);}else{w.addEventListener('load',l,false);}}})()</script>
</head>

<body class="wy-body-for-nav" role="document">
  <div class="header">
  <div class="section-wrap"> 
              <div class="utility-nav">
              </div>
                      <a href="https://www.citusdata.com" title="Citus Data" rel="home" class="logo">
            <img src="../_static/images/citus-logo.png" alt="Citus Data">
          </a>
              <div class="clear"></div>
  </div>
  </div>
  <div class="nav-wrap menu">
    <div class="section-wrap">
      <ul>
        <li><a href="https://www.citusdata.com/product/citus">Product</a></li>
        <li><a href="https://www.citusdata.com/solutions/applications">Solutions</a></li>
        <li><a href="https://www.citusdata.com/blog">Blog</a></li>
        <li><a href="#">Documentation</a></li>
      </ul>
    </div>
  </div>

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../index.html" class="icon icon-home"> Citus
          

          
          </a>

          
            
            
              <div class="version">
                5.2
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <p class="caption"><span class="caption-text">About Citus</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../aboutcitus/what_is_citus.html">What is Citus?</a></li>
<li class="toctree-l1"><a class="reference internal" href="../aboutcitus/introduction_to_citus.html">Architecture</a></li>
</ul>
<p class="caption"><span class="caption-text">Tutorial</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/tut-hash-distribution.html">Hash-Distributed Data</a></li>
</ul>
<p class="caption"><span class="caption-text">Installation</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="requirements.html">Requirements</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="development.html">Single-Machine Cluster</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="single_machine_osx.html">OS X</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Fedora, CentOS, or Red Hat</a></li>
<li class="toctree-l2"><a class="reference internal" href="single_machine_deb.html">Ubuntu or Debian</a></li>
<li class="toctree-l2"><a class="reference internal" href="single_machine_docker.html">Docker</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="production.html">Multi-Machine Cluster</a></li>
</ul>
<p class="caption"><span class="caption-text">Distributed Tables</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../dist_tables/concepts.html">Picking a Distribution Column</a></li>
<li class="toctree-l1"><a class="reference internal" href="../dist_tables/ddl.html">Creating Distributed Tables (DDL)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../dist_tables/dml.html">Ingesting, Modifying Data (DML)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../dist_tables/querying.html">Querying Distributed Tables (SQL)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../dist_tables/extensions.html">PostgreSQL extensions</a></li>
</ul>
<p class="caption"><span class="caption-text">Performance</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../performance/query_processing.html">Citus Query Processing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../performance/scaling_data_ingestion.html">Scaling Out Data Ingestion</a></li>
<li class="toctree-l1"><a class="reference internal" href="../performance/performance_tuning.html">Query Performance Tuning</a></li>
</ul>
<p class="caption"><span class="caption-text">Cloud</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../cloud/index.html">Citus Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../cloud/features.html">Features</a></li>
<li class="toctree-l1"><a class="reference internal" href="../cloud/logging.html">Logging</a></li>
<li class="toctree-l1"><a class="reference internal" href="../cloud/support.html">Support and Billing</a></li>
</ul>
<p class="caption"><span class="caption-text">Technical Solutions</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../tech_soln/real_time_dashboards.html">Real Time Dashboards</a></li>
</ul>
<p class="caption"><span class="caption-text">Administration</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../admin_guide/cluster_management.html">Cluster Management</a></li>
<li class="toctree-l1"><a class="reference internal" href="../admin_guide/upgrading_citus.html">Upgrading Citus</a></li>
<li class="toctree-l1"><a class="reference internal" href="../admin_guide/transitioning_from_postgresql_to_citus.html">Transitioning From PostgreSQL to Citus</a></li>
</ul>
<p class="caption"><span class="caption-text">Reference</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../reference/citus_sql_reference.html">Citus SQL Language Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../reference/sql_workarounds.html">SQL Workarounds</a></li>
<li class="toctree-l1"><a class="reference internal" href="../reference/user_defined_functions.html">User Defined Functions Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../reference/metadata_tables.html">Metadata Tables Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../reference/configuration.html">Configuration Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../reference/append.html">Append Distribution</a></li>
</ul>
<p class="caption"><span class="caption-text">FAQ</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../faq/faq.html">Frequently Asked Questions</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <a href="../index.html">Citus</a>
      <ul>
        <li><a href="/product/citus">Product</a></li>
        <li><a href="/solutions/applications">Solutions</a></li>
        <li><a href="/blog">Blog</a></li>
      </ul>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          

 



<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../index.html">Docs</a> &raquo;</li>
      
        <li><a href="development.html">Single-Machine Cluster</a> &raquo;</li>
      
    <li>Fedora, CentOS, or Red Hat</li>
    <li class="wy-breadcrumbs-aside">
      
        
      
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="fedora-centos-or-red-hat">
<span id="single-machine-rhel"></span><h1>Fedora, CentOS, or Red Hat<a class="headerlink" href="#fedora-centos-or-red-hat" title="Permalink to this headline">Â¶</a></h1>
<p>This section describes the steps needed to set up a single-node Citus cluster on your own Linux machine from RPM packages.</p>
<p><strong>1. Install PostgreSQL 9.5 and the Citus extension</strong></p>
<div class="highlight-bash"><div class="highlight"><pre><span></span><span class="c1"># Add Citus repository for package manager</span>
curl https://install.citusdata.com/community/rpm.sh <span class="p">|</span> sudo bash

<span class="c1"># install Citus extension</span>
sudo yum install -y citus_95
</pre></div>
</div>
<p><strong>2. Initialize the Cluster</strong></p>
<p>Citus has two kinds of components, the master and the workers. The master coordinates queries and maintains metadata on where in the cluster each row of data is. The workers hold your data and respond to queries.</p>
<p>Let&#8217;s create directories for those nodes to store their data. For convenience in using PostgreSQL Unix domain socket connections we&#8217;ll use the postgres user.</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span><span class="c1"># this user has access to sockets in /var/run/postgresql</span>
sudo su - postgres

<span class="c1"># include path to postgres binaries</span>
<span class="nb">export</span> <span class="nv">PATH</span><span class="o">=</span><span class="nv">$PATH</span>:/usr/pgsql-9.5/bin

<span class="nb">cd</span> ~
mkdir -p citus/master citus/worker1 citus/worker2

<span class="c1"># create three normal postgres instances</span>
initdb -D citus/master
initdb -D citus/worker1
initdb -D citus/worker2
</pre></div>
</div>
<p>The master needs to know where it can find the workers. To tell it you can run:</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span><span class="nb">echo</span> <span class="s2">&quot;localhost 9701&quot;</span> &gt;&gt; citus/master/pg_worker_list.conf
<span class="nb">echo</span> <span class="s2">&quot;localhost 9702&quot;</span> &gt;&gt; citus/master/pg_worker_list.conf
</pre></div>
</div>
<p>We will configure the PostgreSQL instances to use ports 9700 (for the master) and 9701, 9702 (for the workers). We assume those ports are available on your machine. Feel free to use different ports if they are in use.</p>
<p>Citus is a Postgres extension, to tell Postgres to use this extension you&#8217;ll need to add it to a configuration variable called <code class="docutils literal"><span class="pre">shared_preload_libraries</span></code>:</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span><span class="nb">echo</span> <span class="s2">&quot;shared_preload_libraries = &#39;citus&#39;&quot;</span> &gt;&gt; citus/master/postgresql.conf
<span class="nb">echo</span> <span class="s2">&quot;shared_preload_libraries = &#39;citus&#39;&quot;</span> &gt;&gt; citus/worker1/postgresql.conf
<span class="nb">echo</span> <span class="s2">&quot;shared_preload_libraries = &#39;citus&#39;&quot;</span> &gt;&gt; citus/worker2/postgresql.conf
</pre></div>
</div>
<p><strong>3. Start the master and workers</strong></p>
<p>Let&#8217;s start the databases:</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>pg_ctl -D citus/master -o <span class="s2">&quot;-p 9700&quot;</span> -l master_logfile start
pg_ctl -D citus/worker1 -o <span class="s2">&quot;-p 9701&quot;</span> -l worker1_logfile start
pg_ctl -D citus/worker2 -o <span class="s2">&quot;-p 9702&quot;</span> -l worker2_logfile start
</pre></div>
</div>
<p>Above you added Citus to <code class="docutils literal"><span class="pre">shared_preload_libraries</span></code>. That lets it hook into some deep parts of Postgres, swapping out the query planner and executor.  Here, we load the user-facing side of Citus (such as the functions you&#8217;ll soon call):</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>psql -p <span class="m">9700</span> -c <span class="s2">&quot;CREATE EXTENSION citus;&quot;</span>
psql -p <span class="m">9701</span> -c <span class="s2">&quot;CREATE EXTENSION citus;&quot;</span>
psql -p <span class="m">9702</span> -c <span class="s2">&quot;CREATE EXTENSION citus;&quot;</span>
</pre></div>
</div>
<p><strong>4. Verify that installation has succeeded</strong></p>
<p>To verify that the installation has succeeded we check that the master node has picked up the desired worker configuration. First start the psql shell on the master node:</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>psql -p <span class="m">9700</span> -c <span class="s2">&quot;select * from master_get_active_worker_nodes();&quot;</span>
</pre></div>
</div>
<p>You should see a row for each worker node including the node name and port.</p>
</div>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="single_machine_deb.html" class="btn btn-neutral float-right" title="Ubuntu or Debian" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="single_machine_osx.html" class="btn btn-neutral" title="OS X" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2015, Citus Data.

    </p>
  </div> 

</footer>

          <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-32858865-1', 'auto');
  ga('send', 'pageview');

</script>
<script>
/**
* Function that tracks a click on an outbound link in Analytics.
* This function takes a valid URL string as an argument, and uses that URL string
* as the event label. Setting the transport method to 'beacon' lets the hit be sent
* using 'navigator.sendBeacon' in browser that support it.
*/
var trackOutboundLink = function(url) {
   ga('send', 'event', 'outbound', 'click', url, {
     'transport': 'beacon',
     'hitCallback': function(){document.location = url;}
   });
}
</script>

        </div>
      </div>

    </section>

  </div>
  
<h3>Versions</h3>
<ul>
    <li><a href="single_machine_rhel.html">v5.2</a></li>
</ul>

  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'5.2.1',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>